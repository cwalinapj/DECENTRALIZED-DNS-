{"baseRefName":"main","body":"Risk: Low\n\n## Summary\nThis PR adds an MVP `.dns` identity program and enforces a premium ownership gate for sellable miner reward claims.\n\nWhat changed:\n- Added new Anchor program `ddns_names` with PDAs + instructions:\n  - `NamesConfig`, `PremiumName`, `SubName`, `PrimaryName`, `ParentPolicy`\n  - `init_names_config`, `claim_subdomain`, `purchase_premium`, `set_primary_name`\n  - `claim_delegated_subdomain`, `set_parent_subdomain_policy`, `transfer_subdomain`, `transfer_premium`\n- Enforced subdomain transfer policy:\n  - `*.user.dns` is non-transferable\n  - delegated subdomains under premium parents require parent control/co-sign\n- Added premium gating to sellable miner reward claim in `ddns_miner_score`:\n  - `claim_miner_reward` now checks claimant premium ownership when `require_premium_for_sellable=true`\n- Added `solana/scripts/names.ts` + `npm -C solana run names`\n- Updated docs:\n  - `README.md` and `docs/MVP.md`\n  - appended verification section in `solana/VERIFIED.md`\n\n## Dev/Test Commands Run\n```bash\ncd solana && cargo check -p ddns_names\ncd solana && anchor build --program-name ddns_names\ncd solana && anchor build\ncd solana && anchor test --skip-build tests/ddns_miner_score.ts tests/ddns_names.ts\nnpm -C solana run names -- --help\nnpm -C solana run names -- resolve-primary --owner B5wjX4PdcwsTqxbiAANgmXVEURN1LF2Cuijteqrk2jh5 --rpc https://api.devnet.solana.com\n```\n\nObserved:\n- `anchor test ...` => `10 passing (2m)`\n- names CLI resolve-primary prints deterministic primary PDA + state\n\n## Auto-merge Checklist\n- [x] Required CI checks are green\n- [x] Local-equivalent checks passed\n- [x] No secrets or keypairs committed\n- [x] Program IDs not hardcoded (env override supported)\n- [x] Docs updated if behavior changed\n","commits":[{"authoredDate":"2026-02-18T20:28:57Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T20:28:57Z","messageBody":"","messageHeadline":"solana: add ddns_names + premium-gated sellable reward claims","oid":"81675831987de1eaa30b85b137b1473e90a2c7ad"},{"authoredDate":"2026-02-18T21:32:50Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T21:32:50Z","messageBody":"","messageHeadline":"Merge main into PR #71 branch","oid":"9538e56a60071399a0e1b29bc5ecfa0090d5b3d0"},{"authoredDate":"2026-02-18T21:37:12Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T21:37:12Z","messageBody":"","messageHeadline":"Merge main into PR #71 branch after #72","oid":"d2ef3e134c5a862e89cc16236d81037f0ea649f3"}],"files":[{"path":"README.md","additions":9,"deletions":0},{"path":"docs/MVP.md","additions":22,"deletions":0},{"path":"solana/Anchor.toml","additions":2,"deletions":0},{"path":"solana/Cargo.lock","additions":9,"deletions":0},{"path":"solana/Cargo.toml","additions":1,"deletions":0},{"path":"solana/VERIFIED.md","additions":46,"deletions":0},{"path":"solana/package-lock.json","additions":1,"deletions":0},{"path":"solana/package.json","additions":2,"deletions":1},{"path":"solana/programs/ddns_miner_score/Cargo.toml","additions":1,"deletions":0},{"path":"solana/programs/ddns_miner_score/src/lib.rs","additions":64,"deletions":1},{"path":"solana/programs/ddns_names/Cargo.toml","additions":21,"deletions":0},{"path":"solana/programs/ddns_names/src/lib.rs","additions":691,"deletions":0},{"path":"solana/scripts/miner_score.ts","additions":23,"deletions":3},{"path":"solana/scripts/names.ts","additions":282,"deletions":0},{"path":"solana/tests/ddns_miner_score.ts","additions":86,"deletions":2},{"path":"solana/tests/ddns_names.ts","additions":188,"deletions":0}],"headRefName":"codex/pr-ddns-names-premium-gate","labels":[],"number":71,"statusCheckRollup":[{"__typename":"CheckRun","completedAt":"2026-02-18T21:37:31Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22158628165/job/64069275201","name":"Docs formatting (markdownlint)","startedAt":"2026-02-18T21:37:22Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T21:37:29Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22158628165/job/64069275173","name":"Raspi TS package builds","startedAt":"2026-02-18T21:37:22Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T21:37:28Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22158628165/job/64069275315","name":"Compat MVP validation","startedAt":"2026-02-18T21:37:22Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T21:37:27Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22158628165/job/64069275171","name":"MVP resolver checks","startedAt":"2026-02-18T21:37:22Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T21:40:11Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22158628165/job/64069275273","name":"MVP root tests","startedAt":"2026-02-18T21:37:22Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T21:37:19Z","conclusion":"SUCCESS","detailsUrl":"https://dashboard.gitguardian.com","name":"GitGuardian Security Checks","startedAt":"2026-02-18T21:37:17Z","status":"COMPLETED","workflowName":""}],"title":"feat: .dns identity + premium gate for sellable miner rewards (MVP)","url":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/pull/71"}
