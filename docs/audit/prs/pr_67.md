# PR #67 â€” fix: root npm test (gateway TS compile)

- URL: https://github.com/cwalinapj/DECENTRALIZED-DNS-/pull/67
- Branch: `codex/fix-root-npm-test` -> `main`
- Labels: automerge-ok
- CI rollup: failing-or-pending

## What changed
- `gateway/package-lock.json`
- `gateway/package.json`
- `packages/attack-mode/package-lock.json`
- `packages/attack-mode/package.json`
- `packages/attack-mode/tsconfig.json`

## Why it exists (inferred)
- fix: root npm test (gateway TS compile)
- PR body excerpt:
```text
Risk: Low

## Summary
Fix root test failure where gateway TypeScript lint/build could not resolve @ddns/attack-mode during npm test (tests/run_all.sh).

Change:
- Add prelint and prebuild in gateway/package.json to build ../packages/attack-mode before gateway compile steps.

## Validation
Commands run in clean worktree from origin/main:
```

## Risk flags
- Touches solana: no
- Touches gateway: yes
- Touches miner-witness: no
- Docs-only: no
- Risk level: med

## How to verify
- Best-effort local checks based on touched areas:
  - npm -C gateway test && npm -C gateway run build
