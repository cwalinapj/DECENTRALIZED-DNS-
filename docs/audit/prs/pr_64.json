{"baseRefName":"main","body":"## Summary\nPR-C for the REP rollout (depends on #63 `ddns_rep`) with MVP miner integration and REP capability-tier updates.\n\n### What changed\n- Added `solana/scripts/rep.ts` CLI for `ddns_rep`:\n  - `init-config`, `deposit-bond`, `withdraw-bond`, `award`, `status`\n  - `status` now supports `--miner <PUBKEY>` and prints `MinerCapabilities`\n- Added `services/miner-node/`:\n  - one-shot mode: resolve names via DoH and submit `award_rep`\n  - relay mode (`POST /v1/submit`): accepts worker receipts and submits `award_rep`\n- Added `services/miner-worker-cloudflare/`:\n  - worker endpoint `/run`\n  - resolves names, builds receipt payloads, posts to miner relay\n- Extended `ddns_rep` program usage path to include capability tiers:\n  - new `MinerCapabilities` PDA (`miner_caps`)\n  - `award_rep` now updates tier/eligibility derived from `rep_total`\n- Updated `solana/tests/ddns_rep.ts`:\n  - cooldown gate\n  - daily-cap bounded accrual\n  - capability-tier transition assertions\n- Added docs: `docs/REP_AND_EDGE_HOSTING.md`\n- Updated docs links/notes in `README.md`, `docs/MVP.md`, `docs/END_STATE.md`, `docs/INDEX.md`\n\n## Why\n- MVP now has a practical miner path (Node + Worker) without free TOLL emission.\n- REP is now explicitly the on-chain capability primitive for future gateway/edge-host eligibility.\n- Anti-sybil controls remain enforced by `ddns_rep` (bond/cap/cooldown/diversity).\n\n## Checks run\n```bash\nnpm -C services/miner-node install\nnpm -C services/miner-node run build\nnpm -C services/miner-node test\nnpm -C services/miner-worker-cloudflare install\nnpm -C services/miner-worker-cloudflare exec wrangler --version\nnpm -C solana run rep -- --help\nnpm -C solana run rep -- status --help\ncd solana && anchor build --program-name ddns_rep\ncd solana && cargo test -p ddns_rep\ncd solana && anchor test --skip-build tests/ddns_rep.ts\n```\n\nResults:\n- `ddns_rep` build: pass\n- `ddns_rep` cargo tests: pass\n- workspace anchor suite run: `ddns_rep` tests pass; suite still has unrelated baseline failure in `ddns_miner_score` (`DeclaredProgramIdMismatch`)\n- miner-node build: pass\n\n## Notes\n- This PR intentionally does not add free TOLL emissions.\n- REP remains non-transferable account state and updates are aggregate-based (not per receipt).\n","commits":[{"authoredDate":"2026-02-18T09:14:55Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T09:14:55Z","messageBody":"","messageHeadline":"solana: add ddns_rep program with bond-gated capped reputation accrual","oid":"3be31c1153aa1bb8f3dc4782418ec6a320cdb6c6"},{"authoredDate":"2026-02-18T09:20:42Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T09:20:42Z","messageBody":"","messageHeadline":"miner: add REP cli, node miner relay, and cloudflare worker sender","oid":"e0485bf461f45336d0240ee7b4ef8d6aa910ef45"},{"authoredDate":"2026-02-18T09:21:13Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T09:21:13Z","messageBody":"","messageHeadline":"ops: log rep miner integration PR and validation commands","oid":"58176249385be3605dec24e0b55bb4ef07c5a25f"},{"authoredDate":"2026-02-18T09:33:13Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T09:33:13Z","messageBody":"…docs","messageHeadline":"rep: add capability tiers, cooldown/cap tests, and edge-host roadmap …","oid":"e6bf93605de8be61df9f6ac0e7cd57bfec36ec45"},{"authoredDate":"2026-02-18T09:33:23Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T09:33:23Z","messageBody":"","messageHeadline":"ops: log rep capability-tier update validation run","oid":"964354155f71b8d46751bc9dd43264cf72638ff0"}],"files":[{"path":"OPERATOR_LOG.md","additions":36,"deletions":0},{"path":"README.md","additions":18,"deletions":1},{"path":"docs/END_STATE.md","additions":9,"deletions":0},{"path":"docs/INDEX.md","additions":1,"deletions":1},{"path":"docs/MVP.md","additions":6,"deletions":1},{"path":"docs/REP_AND_EDGE_HOSTING.md","additions":66,"deletions":0},{"path":"services/miner-node/README.md","additions":36,"deletions":0},{"path":"services/miner-node/package-lock.json","additions":1283,"deletions":0},{"path":"services/miner-node/package.json","additions":19,"deletions":0},{"path":"services/miner-node/src/index.ts","additions":217,"deletions":0},{"path":"services/miner-node/tsconfig.json","additions":12,"deletions":0},{"path":"services/miner-worker-cloudflare/README.md","additions":24,"deletions":0},{"path":"services/miner-worker-cloudflare/package-lock.json","additions":1598,"deletions":0},{"path":"services/miner-worker-cloudflare/package.json","additions":14,"deletions":0},{"path":"services/miner-worker-cloudflare/src/index.ts","additions":70,"deletions":0},{"path":"services/miner-worker-cloudflare/wrangler.toml","additions":10,"deletions":0},{"path":"solana/Anchor.toml","additions":2,"deletions":0},{"path":"solana/Cargo.lock","additions":7,"deletions":0},{"path":"solana/Cargo.toml","additions":1,"deletions":0},{"path":"solana/package.json","additions":1,"deletions":0},{"path":"solana/programs/ddns_rep/Cargo.toml","additions":22,"deletions":0},{"path":"solana/programs/ddns_rep/src/lib.rs","additions":505,"deletions":0},{"path":"solana/scripts/rep.ts","additions":177,"deletions":0},{"path":"solana/tests/ddns_rep.ts","additions":170,"deletions":0}],"headRefName":"codex/rep-miner-integration","labels":[],"number":64,"statusCheckRollup":[{"__typename":"CheckRun","completedAt":"2026-02-18T09:33:42Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22134205795/job/63981604624","name":"Docs formatting (markdownlint)","startedAt":"2026-02-18T09:33:33Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T09:33:41Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22134205795/job/63981604556","name":"Raspi TS package builds","startedAt":"2026-02-18T09:33:33Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T09:33:44Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22134205795/job/63981604569","name":"Compat MVP validation","startedAt":"2026-02-18T09:33:33Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T09:33:39Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22134205795/job/63981604641","name":"MVP resolver checks","startedAt":"2026-02-18T09:33:33Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T09:33:42Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22134205795/job/63981604566","name":"MVP root tests","startedAt":"2026-02-18T09:33:34Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T09:33:29Z","conclusion":"SUCCESS","detailsUrl":"https://dashboard.gitguardian.com","name":"GitGuardian Security Checks","startedAt":"2026-02-18T09:33:28Z","status":"COMPLETED","workflowName":""}],"title":"miner: integrate REP flow with node relay + cloudflare worker","url":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/pull/64"}
