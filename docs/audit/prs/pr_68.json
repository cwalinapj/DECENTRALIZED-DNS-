{"baseRefName":"main","body":"## What changed\n- Hardened recursive DoH adapter in `gateway` with multi-upstream quorum (Cloudflare + Google by default).\n- Added canonical RRset normalization + hashing, CNAME-following, overlap-based confidence, and conservative TTL caps by confidence.\n- Added NXDOMAIN TTL cap (30s), qtype-aware cache key (`name:qtype`), stale-if-error + prefetch behavior retained.\n- Updated `/v1/resolve` response to include confidence/upstream audit/cache metadata.\n- Added `services/cf-worker-miner` MVP Worker starter for edge resolve/quorum output.\n\n## Verification\n- `npm -C gateway i`\n- `npm -C gateway test`\n- `npm -C gateway run build`\n- `npm -C services/cf-worker-miner i && npm -C services/cf-worker-miner run build`\n\n## Notes\n- `.dns` resolution remains on PKDNS path first.\n- ICANN answers remain local recursive cache behavior only (not canonical consensus writes).\n","commits":[{"authoredDate":"2026-02-18T10:35:04Z","authors":[{"email":"144741118+cwalinapj@users.noreply.github.com","id":"U_kgDOCKCS_g","login":"cwalinapj","name":"Paul Cwalina"}],"committedDate":"2026-02-18T10:35:04Z","messageBody":"","messageHeadline":"gateway: harden recursive quorum and add cf worker miner starter","oid":"337bd3999268089a1a124021ab1ea9b63414ee45"}],"files":[{"path":"gateway/README.md","additions":39,"deletions":29},{"path":"gateway/src/adapters/recursive.ts","additions":412,"deletions":96},{"path":"gateway/src/server.ts","additions":26,"deletions":6},{"path":"gateway/tests/recursive_quorum.test.ts","additions":164,"deletions":0},{"path":"gateway/tests/resolve.test.ts","additions":22,"deletions":9},{"path":"services/cf-worker-miner/README.md","additions":31,"deletions":0},{"path":"services/cf-worker-miner/package-lock.json","additions":1581,"deletions":0},{"path":"services/cf-worker-miner/package.json","additions":13,"deletions":0},{"path":"services/cf-worker-miner/src/index.ts","additions":175,"deletions":0},{"path":"services/cf-worker-miner/wrangler.toml","additions":8,"deletions":0}],"headRefName":"codex/quorum-harden-cf-worker","labels":[],"number":68,"statusCheckRollup":[{"__typename":"CheckRun","completedAt":"2026-02-18T10:35:54Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22136233465/job/63988550241","name":"Docs formatting (markdownlint)","startedAt":"2026-02-18T10:35:43Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T10:35:50Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22136233465/job/63988550223","name":"Raspi TS package builds","startedAt":"2026-02-18T10:35:43Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T10:35:47Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22136233465/job/63988550307","name":"Compat MVP validation","startedAt":"2026-02-18T10:35:43Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T10:35:49Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22136233465/job/63988550323","name":"MVP resolver checks","startedAt":"2026-02-18T10:35:43Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T10:35:47Z","conclusion":"FAILURE","detailsUrl":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/actions/runs/22136233465/job/63988550302","name":"MVP root tests","startedAt":"2026-02-18T10:35:43Z","status":"COMPLETED","workflowName":"ci"},{"__typename":"CheckRun","completedAt":"2026-02-18T10:35:40Z","conclusion":"SUCCESS","detailsUrl":"https://dashboard.gitguardian.com","name":"GitGuardian Security Checks","startedAt":"2026-02-18T10:35:39Z","status":"COMPLETED","workflowName":""}],"title":"gateway: harden recursive quorum + add cf worker miner starter","url":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/pull/68"}
