# PR #64 â€” miner: integrate REP flow with node relay + cloudflare worker

- URL: https://github.com/cwalinapj/DECENTRALIZED-DNS-/pull/64
- Branch: `codex/rep-miner-integration` -> `main`
- Labels: (none)
- CI rollup: failing-or-pending

## What changed
- `OPERATOR_LOG.md`
- `README.md`
- `docs/END_STATE.md`
- `docs/INDEX.md`
- `docs/MVP.md`
- `docs/REP_AND_EDGE_HOSTING.md`
- `services/miner-node/README.md`
- `services/miner-node/package-lock.json`
- `services/miner-node/package.json`
- `services/miner-node/src/index.ts`
- `services/miner-node/tsconfig.json`
- `services/miner-worker-cloudflare/README.md`
- `services/miner-worker-cloudflare/package-lock.json`
- `services/miner-worker-cloudflare/package.json`
- `services/miner-worker-cloudflare/src/index.ts`
- `services/miner-worker-cloudflare/wrangler.toml`
- `solana/Anchor.toml`
- `solana/Cargo.lock`
- `solana/Cargo.toml`
- `solana/package.json`
- `solana/programs/ddns_rep/Cargo.toml`
- `solana/programs/ddns_rep/src/lib.rs`
- `solana/scripts/rep.ts`
- `solana/tests/ddns_rep.ts`

## Why it exists (inferred)
- miner: integrate REP flow with node relay + cloudflare worker
- PR body excerpt:
```text
## Summary
PR-C for the REP rollout (depends on #63 `ddns_rep`) with MVP miner integration and REP capability-tier updates.

### What changed
- Added `solana/scripts/rep.ts` CLI for `ddns_rep`:
  - `init-config`, `deposit-bond`, `withdraw-bond`, `award`, `status`
  - `status` now supports `--miner <PUBKEY>` and prints `MinerCapabilities`
- Added `services/miner-node/`:
  - one-shot mode: resolve names via DoH and submit `award_rep`
  - relay mode (`POST /v1/submit`): accepts worker receipts and submits `award_rep`
```

## Risk flags
- Touches solana: yes
- Touches gateway: no
- Touches miner-witness: no
- Docs-only: no
- Risk level: med

## How to verify
- Best-effort local checks based on touched areas:
  - cd solana && anchor build
