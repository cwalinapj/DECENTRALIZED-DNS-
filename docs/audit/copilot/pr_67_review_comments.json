[{"url":"https://api.github.com/repos/cwalinapj/DECENTRALIZED-DNS-/pulls/comments/2821437283","pull_request_review_id":3818933003,"id":2821437283,"node_id":"PRRC_kwDORKbd9s6oK7dj","diff_hunk":"@@ -4,6 +4,8 @@\n   \"private\": true,\n   \"type\": \"module\",\n   \"scripts\": {\n+    \"prelint\": \"npm --prefix ../packages/attack-mode ci && npm --prefix ../packages/attack-mode run build\",\n+    \"prebuild\": \"npm --prefix ../packages/attack-mode ci && npm --prefix ../packages/attack-mode run build\",","path":"gateway/package.json","commit_id":"d9c5b1c053b011223501ac4df41f024630a017ed","original_commit_id":"e0aef4c2cb47f8299fdeb445d658db1fc3df0776","user":{"login":"Copilot","id":175728472,"node_id":"BOT_kgDOCnlnWA","avatar_url":"https://avatars.githubusercontent.com/in/946600?v=4","gravatar_id":"","url":"https://api.github.com/users/Copilot","html_url":"https://github.com/apps/copilot-pull-request-reviewer","followers_url":"https://api.github.com/users/Copilot/followers","following_url":"https://api.github.com/users/Copilot/following{/other_user}","gists_url":"https://api.github.com/users/Copilot/gists{/gist_id}","starred_url":"https://api.github.com/users/Copilot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Copilot/subscriptions","organizations_url":"https://api.github.com/users/Copilot/orgs","repos_url":"https://api.github.com/users/Copilot/repos","events_url":"https://api.github.com/users/Copilot/events{/privacy}","received_events_url":"https://api.github.com/users/Copilot/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"`prelint` and `prebuild` run the exact same `npm ci && npm run build` in `../packages/attack-mode`. In the repo test runner (`tests/run_all.sh`) we execute `npm run lint` and then `npm run build`, so this will install+build attack-mode twice per run, which is slow and adds extra network/IO. Consider factoring this into a single script (e.g., `build:deps`) and/or structuring the lifecycle hooks so the dependency build only happens once per CI run (for example: a single `prelint` when lint always precedes build in CI, or a stamp/cached check to skip the second build when already built).\n```suggestion\n    \"build:deps\": \"npm --prefix ../packages/attack-mode ci && npm --prefix ../packages/attack-mode run build\",\n    \"prelint\": \"npm run build:deps\",\n```","created_at":"2026-02-18T10:05:03Z","updated_at":"2026-02-18T10:05:04Z","html_url":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/pull/67#discussion_r2821437283","pull_request_url":"https://api.github.com/repos/cwalinapj/DECENTRALIZED-DNS-/pulls/67","_links":{"self":{"href":"https://api.github.com/repos/cwalinapj/DECENTRALIZED-DNS-/pulls/comments/2821437283"},"html":{"href":"https://github.com/cwalinapj/DECENTRALIZED-DNS-/pull/67#discussion_r2821437283"},"pull_request":{"href":"https://api.github.com/repos/cwalinapj/DECENTRALIZED-DNS-/pulls/67"}},"reactions":{"url":"https://api.github.com/repos/cwalinapj/DECENTRALIZED-DNS-/pulls/comments/2821437283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":7,"original_start_line":7,"start_side":"RIGHT","line":8,"original_line":8,"side":"RIGHT","author_association":"NONE","original_position":5,"position":5,"subject_type":"line"}]